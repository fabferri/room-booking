<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room Booking System</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Updated with Booking Settings -->
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="screen active">
        <div class="container">
            <div class="card login-card">
                <h1>üè¢ Room Booking System</h1>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" required placeholder="Enter your username">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required placeholder="Enter your password">
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                    <div id="loginError" class="error-message"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Main App Screen -->
    <div id="appScreen" class="screen">
        <nav class="navbar">
            <div class="nav-container">
                <h2>üè¢ Room Booking System</h2>
                <div class="nav-right">
                    <span id="currentUser"></span>
                    <button id="logoutBtn" class="btn btn-secondary">Logout</button>
                </div>
            </div>
        </nav>

        <div class="container">
            <div class="tabs">
                <button class="tab-btn active" data-tab="bookRoom">Book a Room</button>
                <button class="tab-btn" data-tab="myBookings">My Bookings</button>
                <button class="tab-btn" data-tab="calendar">Calendar View</button>
                <button class="tab-btn admin-only" data-tab="adminPanel" style="display: none;">Admin Panel</button>
            </div>

            <!-- Book Room Tab -->
            <div id="bookRoom" class="tab-content active">
                <div class="card">
                    <h3>Select a Room and Time</h3>
                    <form id="bookingForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="roomSelect">Room</label>
                                <select id="roomSelect" required>
                                    <option value="">-- Select a room --</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="bookingDate">Date</label>
                                <input type="date" id="bookingDate" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="startTime">Start Time</label>
                                <input type="time" id="startTime" required>
                            </div>
                            <div class="form-group">
                                <label for="endTime">End Time</label>
                                <input type="time" id="endTime" required>
                            </div>
                        </div>

                        <div class="info-box" id="bookingConstraints">
                            <p>üìå Booking duration: min 15 minutes, max 4 hours</p>
                            <p>üìå Bookings must be within the same day</p>
                        </div>

                        <button type="submit" class="btn btn-primary">Book Room</button>
                        <div id="bookingError" class="error-message"></div>
                        <div id="bookingSuccess" class="success-message"></div>
                    </form>
                </div>

                <!-- Room Availability Timeline -->
                <div class="card" id="availabilityCard" style="display: none;">
                    <h3>Room Availability for <span id="selectedRoomName"></span></h3>
                    <div id="availabilityTimeline"></div>
                </div>
            </div>

            <!-- My Bookings Tab -->
            <div id="myBookings" class="tab-content">
                <div class="card">
                    <h3>My Room Bookings</h3>
                    <div id="bookingsList"></div>
                </div>
            </div>

            <!-- Calendar View Tab -->
            <div id="calendar" class="tab-content">
                <div class="card">
                    <h3>Room Booking Calendar</h3>
                    
                    <div class="calendar-controls">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="calendarView">View</label>
                                <select id="calendarView">
                                    <option value="day">Day</option>
                                    <option value="week">Week</option>
                                    <option value="month">Month</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="calendarDate">Date</label>
                                <input type="date" id="calendarDate">
                            </div>
                            <div class="form-group">
                                <label for="calendarRoom">Room (Optional)</label>
                                <select id="calendarRoom">
                                    <option value="">All Rooms</option>
                                </select>
                            </div>
                        </div>
                        <button id="calendarRefresh" class="btn btn-primary">Refresh</button>
                    </div>

                    <div id="calendarContent"></div>
                </div>
            </div>

            <!-- Admin Panel Tab -->
            <div id="adminPanel" class="tab-content admin-only" style="display: none;">
                <div class="card">
                    <h3>User Management</h3>
                    
                    <form id="createUserForm">
                        <h4>Create New User</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newUsername">Username</label>
                                <input type="text" id="newUsername" required>
                            </div>
                            <div class="form-group">
                                <label for="newEmail">Email</label>
                                <input type="email" id="newEmail" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newPassword">Password</label>
                                <input type="password" id="newPassword" required>
                            </div>
                            <div class="form-group">
                                <label for="newRole">Role</label>
                                <select id="newRole">
                                    <option value="user">User</option>
                                    <option value="admin">Admin</option>
                                </select>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">Create User</button>
                        <div id="createUserError" class="error-message"></div>
                        <div id="createUserSuccess" class="success-message"></div>
                    </form>

                    <div id="usersList" style="margin-top: 20px;">
                        <h4>All Users</h4>
                        <div id="usersTable"></div>
                    </div>
                </div>

                <div class="card">
                    <h3>Room Management</h3>
                    
                    <form id="createRoomForm">
                        <h4>Add New Room</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newRoomNumber">Room Number</label>
                                <input type="text" id="newRoomNumber" required placeholder="e.g., R111">
                            </div>
                            <div class="form-group">
                                <label for="newRoomName">Room Name</label>
                                <input type="text" id="newRoomName" required placeholder="e.g., Meeting Room 3">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newRoomCapacity">Capacity</label>
                                <input type="number" id="newRoomCapacity" required min="1" max="100" placeholder="e.g., 10">
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">Add Room</button>
                        <div id="createRoomError" class="error-message"></div>
                        <div id="createRoomSuccess" class="success-message"></div>
                    </form>

                    <div id="roomsList" style="margin-top: 20px;">
                        <h4>All Rooms</h4>
                        <div id="roomsTable"></div>
                    </div>
                </div>

                <div class="card">
                    <h3>Booking Settings</h3>
                    
                    <form id="settingsForm">
                        <h4>Duration Constraints</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="minDuration">Minimum Duration (minutes)</label>
                                <input type="number" id="minDuration" required min="5" max="120" placeholder="e.g., 15">
                                <small>Between 5 and 120 minutes</small>
                            </div>
                            <div class="form-group">
                                <label for="maxDuration">Maximum Duration (minutes)</label>
                                <input type="number" id="maxDuration" required min="30" max="1440" placeholder="e.g., 240">
                                <small>Between 30 and 1440 minutes (24 hours)</small>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">Update Settings</button>
                        <div id="settingsError" class="error-message"></div>
                        <div id="settingsSuccess" class="success-message"></div>
                    </form>
                </div>

                <div class="card">
                    <h3>All Bookings Management</h3>
                    <div id="adminBookingsList"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
